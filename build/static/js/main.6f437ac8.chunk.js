(this.webpackJsonppart6=this.webpackJsonppart6||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},19:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),u=n.n(c),r=n(13),o=n.n(r),l=(n(19),n(3)),i=n.n(l),m="https://warm-tor-69264.herokuapp.com/persons",s=function(){return i.a.get(m)},f=function(e,t){return t.filter((function(t){return t.id===parseInt(e)}))},d=function(e){return i.a.post(m,e)},h=function(e){return i.a.delete("".concat(m,"/").concat(e))},b=function(e,t){return i.a.put("".concat(m,"/").concat(e),t)},v=function(e){var t=e.contact,n=e.phone,a=e.index,c=e.onClick,r=e.id;return u.a.createElement("li",{key:a}," ",t," - ",n," ",u.a.createElement("button",{onClick:c,id:r},"Delete"))},p=function(e){var t=e.value,n=e.onChange;return u.a.createElement("div",null,u.a.createElement("label",null,"Filter by name:")," ",u.a.createElement("input",{value:t,onChange:n}))},E=function(e){var t=e.onSubmit,n=e.valueName,a=e.onChangeName,c=e.valueNumber,r=e.onChangeNum;return u.a.createElement("form",{onSubmit:t},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:n,onChange:a}),"phone: ",u.a.createElement("input",{value:c,onChange:r}),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"Add"))))},g=function(e){var t=e.message,n=e.className;return null===t?null:u.a.createElement("div",{className:n},t)},O=function(){Object(c.useEffect)((function(){s().then((function(e){r(e.data)}))}),[]);var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),l=Object(a.a)(o,2),i=l[0],m=l[1],O=Object(c.useState)(""),j=Object(a.a)(O,2),C=j[0],N=j[1],w=Object(c.useState)(""),k=Object(a.a)(w,2),y=k[0],S=k[1],A=Object(c.useState)(null),x=Object(a.a)(A,2),I=x[0],D=x[1],J=Object(c.useState)(null),T=Object(a.a)(J,2),B=T[0],F=T[1],P=n,U=i,q=U.charAt(0).toUpperCase()+U.substring(1),z=P.filter((function(e){return e.name.includes(q)}));P=z;var G=function(e){var t=e.target.id,a=f(t,n);window.confirm("Are you sure you want to delete ".concat(a[0].name))&&h(a[0].id).then((function(e){s().then((function(e){r(e.data)}))})).catch((function(e){console.log(e),F("\n                    Information of ".concat(a[0].name," has already been removed from the server\n                    ")),s().then((function(e){r(e.data)})),setTimeout((function(){F(null)}),4e3)}))};return u.a.createElement("div",null,u.a.createElement("h1",null,"Phonebook"),u.a.createElement(g,{message:I,className:"success-alert"}),u.a.createElement(g,{message:B,className:"fail-alert"}),u.a.createElement(p,{value:i,onChange:function(e){m(e.target.value)}}),u.a.createElement("h2",null,"Add a new contact"),u.a.createElement(E,{valueName:C,onChangeName:function(e){N(e.target.value)},valueNumber:y,onChangeNum:function(e){S(e.target.value)},onSubmit:function(e){e.preventDefault();var t={name:C,number:y};if(n.map((function(e){return e.name})).indexOf(C)>-1){if(window.confirm("".concat(C," is already added to phonebook, replace the old number with a new one?"))){var a=n.filter((function(e){return e.name===C}));b(a[0].id,t).then((function(e){s().then((function(e){r(e.data),N(""),S("")}))}))}}else d(t).then((function(e){D("".concat(e.data.name," added to the contact list!")),setTimeout((function(){D(null)}),4e3),r(n.concat(e.data)),N(""),S("")}))}}),u.a.createElement("h2",null,"Numbers"),u.a.createElement("ul",null,P.map((function(e,t){return u.a.createElement(v,{contact:e.name,phone:e.number,onClick:G,key:t,id:e.id})}))))};o.a.render(u.a.createElement(O,null),document.getElementById("root"));t.default=O}},[[14,1,2]]]);
//# sourceMappingURL=main.6f437ac8.chunk.js.map